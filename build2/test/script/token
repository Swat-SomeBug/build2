// file      : build2/test/script/token -*- C++ -*-
// copyright : Copyright (c) 2014-2016 Code Synthesis Ltd
// license   : MIT; see accompanying LICENSE file

#ifndef BUILD2_TEST_SCRIPT_TOKEN
#define BUILD2_TEST_SCRIPT_TOKEN

#include <build2/types>
#include <build2/utility>

#include <build2/token>

namespace build2
{
  namespace test
  {
    namespace script
    {
      struct token_type: build2::token_type
      {
        using base_type = build2::token_type;

        enum
        {
          // NOTE: remember to update token_printer()!

          semi = base_type::value_next, // ;

          pipe,                         // |
          clean,                        // &
          log_and,                      // &&
          log_or,                       // ||

          in_null,                      // <-
          in_str,                       // <
          in_str_nn,                    // <:
          in_doc,                       // <<
          in_doc_nn,                    // <<:

          out_null,                     // >-
          out_str,                      // >
          out_str_nn,                   // >:
          out_doc,                      // >>
          out_doc_nn                    // >>:
        };

        token_type () = default;
        token_type (value_type v): base_type (v) {}
        token_type (base_type v): base_type (v) {}
      };

      void
      token_printer (ostream&, const token&, bool);
    }
  }
}

#endif // BUILD2_TEST_SCRIPT_TOKEN
