# file      : tests/test/script/runner/status.test
# copyright : Copyright (c) 2014-2016 Code Synthesis Ltd
# license   : MIT; see accompanying LICENSE file

.include ../common.test

b += --no-column

if ($cxx.target.class == "windows")
  ext = .exe
end

# Successfull tests.
#
: eq-true
:
$c <'$* == 0';
$b

: ne-true
:
$c <'$* -s 1 != 0';
$b

# Faulty tests.
#
: eq-false
:
$c <'$* -s 1 == 0';
$b 2>>"EOE" != 0
testscript:1: error: $path.canonicalize(../../../driver$ext) exit status 1 != 0
EOE

: ne-false
:
$c <'$* -s 1 != 1';
$b 2>>"EOE" != 0
testscript:1: error: $path.canonicalize(../../../driver$ext) exit status 1 == 1
EOE
