# file      : tests/test/script/builtin/echo.test
# copyright : Copyright (c) 2014-2017 Code Synthesis Ltd
# license   : MIT; see accompanying LICENSE file

.include ../common.test

: string
:
$c <'echo foo >foo' && $b

: strings
:
$c <'echo foo bar >"foo bar"' && $b

: big
:
: Echo a big string (about 3MB) to test that the builtin is asynchronous.
:
{
  s="------------------------------------------------------------------------"
  s="$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s"
  s="$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s"
  s="$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s$s"
  $c <"echo '$s' | cat >'$s'" && $b
}
